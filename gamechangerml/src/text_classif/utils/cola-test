[2022-07-05 11:06:26,661   ERROR], [ltr.py:93 - read_xg_data()], LTR - Could not read in data for training
[2022-07-05 11:06:27,941    INFO], [qe.py:80 - __init__()], loading bert-base-uncased
[2022-07-05 11:06:30,788    INFO], [qe.py:92 - __init__()], QeMLM 0.3.4
[2022-07-05 11:06:30,789 WARNING], [qe.py:130 - _expand()], number of tokens 1 < min_tokens 3
[2022-07-05 11:06:33,646    INFO], [test_ebr_query_json.py:17 - test_query_in()], query : blahblahblah
[2022-07-05 11:06:33,646    INFO], [sparse.py:67 - __init__()], SparseReader 0.5.1
[2022-07-05 11:06:33,646    INFO], [sparse.py:68 - __init__()], instantiating base reader
[2022-07-05 11:06:33,647    INFO], [sparse.py:69 - __init__()],          model_name : distilbert-base-uncased-distilled-squad
[2022-07-05 11:06:33,647    INFO], [sparse.py:70 - __init__()], context_window_size : 150
[2022-07-05 11:06:33,647    INFO], [sparse.py:71 - __init__()],            use__gpu : False
[2022-07-05 11:06:35,450    INFO], [sparse.py:118 - predict()], n questions: 10
[2022-07-05 11:06:35,450    INFO], [sparse.py:119 - predict()], n docs     : 10
[2022-07-05 11:06:36,200    INFO], [sparse.py:136 - predict()], Length of answers from transformer nlp: 10
[2022-07-05 11:06:36,202    INFO], [test_ebr_query_json.py:22 - test_query_in()], {'answers': [{'answer': 'Do S guidelines',
              'context': 'f . Administer Do D passport and passport agent '
                         'services and ensure that Do D passport and passport '
                         'agent services are instituted according to Do S '
                         'guidelines .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_2_10',
              'text': 'f . Administer Do D passport and passport agent '
                      'services and ensure that Do D passport and passport '
                      'agent services are instituted according to Do S '
                      'guidelines .'},
             {'answer': 'D Directive 1000.21',
              'context': 'SUBJECT : Do D Passport and Passport Agent Services '
                         'References : ( a ) Do D Directive 1000.21 , “ Do D '
                         'Passport and Passport Agent Services , ” July 9 , '
                         '1992 ( hereby canceled ) ',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_0_5',
              'text': 'SUBJECT : Do D Passport and Passport Agent Services '
                      'References : ( a ) Do D Directive 1000.21 , “ Do D '
                      'Passport and Passport Agent Services , ” July 9 , 1992 '
                      '( hereby canceled ) '},
             {'answer': 'Do D passport and passport agent services',
              'context': 'b . Exercise program management and oversight of Do '
                         'D passport and passport agent services .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_2_6',
              'text': 'b . Exercise program management and oversight of Do D '
                      'passport and passport agent services .'},
             {'answer': 'D passport and passport agent services points of '
                        'contact for the Do D Components',
              'context': 'i . Maintain the names of individuals who will serve '
                         'as Do D passport and passport agent services points '
                         'of contact for the Do D Components .',
              'id': "'DoDD 1000.21E, 10 20 2009 OCR.pdf_2_13",
              'text': 'i . Maintain the names of individuals who will serve as '
                      'Do D passport and passport agent services points of '
                      'contact for the Do D Components .'},
             {'answer': 'visa',
              'context': 'ries of the Military Departments to accept passport '
                         'applications and perform passport services to '
                         'include administering oaths for passport purposes . '
                         'visa .A stamp or impression placed on a page of a '
                         'valid passport by a foreign embassy or consulate '
                         'empowered to grant permission , as of the date '
                         'issued ,',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_4_5',
              'text': 'A diplomatic passport , issued to a foreign service '
                      'officer , a person in the diplomatic service , or a '
                      'person having diplomatic status either because of the '
                      'nature of his or her foreign mission or by reason of '
                      'the office he or she holds . passport agent .A person '
                      'authorized and empowered by the Secretary of State , '
                      'the Do D EA for Do D Passport and Passport Agent '
                      'Services , or the Secretaries of the Military '
                      'Departments to accept passport applications and perform '
                      'passport services to include administering oaths for '
                      'passport purposes . visa .A stamp or impression placed '
                      'on a page of a valid passport by a foreign embassy or '
                      'consulate empowered to grant permission , as of the '
                      'date issued , for the applicant to enter and remain in '
                      'that country for a specific period of time .'},
             {'answer': 'Do D EA for acceptance of official U.S . passport '
                        'applications',
              'context': 'd . Ensure that interdepartmental Do D passport '
                         'agents perform all services required by Do S and the '
                         'Do D EA for acceptance of official U.S . passport '
                         'applications .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_3_6',
              'text': 'd . Ensure that interdepartmental Do D passport agents '
                      'perform all services required by Do S and the Do D EA '
                      'for acceptance of official U.S . passport applications '
                      '.'},
             {'answer': 'Do D',
              'context': 'j . Perform an annual review of Do D passport and '
                         'passport agent services with Do S and the Do D '
                         'Components .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_2_14',
              'text': 'j . Perform an annual review of Do D passport and '
                      'passport agent services with Do S and the Do D '
                      'Components .'},
             {'answer': 'representative to jointly review Do D EA',
              'context': 'c . Provide annually a representative to jointly '
                         'review Do D EA intradepartmental policies and '
                         'procedures supporting Do D passport and passport '
                         'agent services .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_3_5',
              'text': 'c . Provide annually a representative to jointly review '
                      'Do D EA intradepartmental policies and procedures '
                      'supporting Do D passport and passport agent services .'},
             {'answer': 'Do D passport agents',
              'context': 'e . Designated Do D passport agents shall not accept '
                         'regular U.S . passport applications unless granted '
                         'written permission to do so by the Department of '
                         'State ( Do S ) and the Do D EA f',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_1_3',
              'text': 'e . Designated Do D passport agents shall not accept '
                      'regular U.S . passport applications unless granted '
                      'written permission to do so by the Department of State '
                      '( Do S ) and the Do D EA for Do D Passport and Passport '
                      'Agent Services .5 . RESPONSIBILITIES .See Enclosure 2 '
                      '.6 . RELEASABILITY .Cleared for public release .This '
                      'Directive is available on the Do D Issuances Web Site '
                      'at http://www.dtic.mil/whs/directives . 7 .EFFECTIVE '
                      'DATE .This Directive is effective October 20 , 2009 .'},
             {'answer': 'b .Do D employees and eligible family members '
                        'traveling outside the United States',
              'context': 'Y .It is Do D policy that : a .Passports issued by '
                         'the U.S . Government are official U.S . documents '
                         'and are considered at all times U.S . property . b '
                         '.Do D employees and eligible family members '
                         'traveling outside the United States on official '
                         'travel to a foreign country requiring a U.S . '
                         'passport pursuant to section 51.3 ( b ) of Reference '
                         '( b ) shall be provided an official U.',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_1_2',
              'text': '4 . POLICY .It is Do D policy that : a .Passports '
                      'issued by the U.S . Government are official U.S . '
                      'documents and are considered at all times U.S . '
                      'property . b .Do D employees and eligible family '
                      'members traveling outside the United States on official '
                      'travel to a foreign country requiring a U.S . passport '
                      'pursuant to section 51.3 ( b ) of Reference ( b ) shall '
                      'be provided an official U.S . passport , to include '
                      'visas when required , at no expense to the Do D '
                      'employees or their family members . c .Do D passport '
                      'and passport agent services shall be made available to '
                      'all Do D employees and family members through '
                      'designated Do D passport agents . d .Designated Do D '
                      'passport agents shall be full time or permanent part '
                      'time Do D employees or members of the Military Services '
                      '.'}],
 'query': 'blahblahblah'}
[2022-07-05 11:06:36,210    INFO], [test_ebr_query_json.py:29 - test_bad_query()], query : blahblahblah
[2022-07-05 11:06:36,210    INFO], [sparse.py:67 - __init__()], SparseReader 0.5.1
[2022-07-05 11:06:36,210    INFO], [sparse.py:68 - __init__()], instantiating base reader
[2022-07-05 11:06:36,210    INFO], [sparse.py:69 - __init__()],          model_name : distilbert-base-uncased-distilled-squad
[2022-07-05 11:06:36,210    INFO], [sparse.py:70 - __init__()], context_window_size : 150
[2022-07-05 11:06:36,211    INFO], [sparse.py:71 - __init__()],            use__gpu : False
[2022-07-05 11:06:37,495    INFO], [sparse.py:118 - predict()], n questions: 10
[2022-07-05 11:06:37,495    INFO], [sparse.py:119 - predict()], n docs     : 10
[2022-07-05 11:06:38,949    INFO], [sparse.py:136 - predict()], Length of answers from transformer nlp: 10
[2022-07-05 11:06:38,952    INFO], [test_ebr_query_json.py:34 - test_bad_query()], {'answers': [{'answer': 'Do S guidelines',
              'context': 'f . Administer Do D passport and passport agent '
                         'services and ensure that Do D passport and passport '
                         'agent services are instituted according to Do S '
                         'guidelines .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_2_10',
              'text': 'f . Administer Do D passport and passport agent '
                      'services and ensure that Do D passport and passport '
                      'agent services are instituted according to Do S '
                      'guidelines .'},
             {'answer': 'D Directive 1000.21',
              'context': 'SUBJECT : Do D Passport and Passport Agent Services '
                         'References : ( a ) Do D Directive 1000.21 , “ Do D '
                         'Passport and Passport Agent Services , ” July 9 , '
                         '1992 ( hereby canceled ) ',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_0_5',
              'text': 'SUBJECT : Do D Passport and Passport Agent Services '
                      'References : ( a ) Do D Directive 1000.21 , “ Do D '
                      'Passport and Passport Agent Services , ” July 9 , 1992 '
                      '( hereby canceled ) '},
             {'answer': 'Do D passport and passport agent services',
              'context': 'b . Exercise program management and oversight of Do '
                         'D passport and passport agent services .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_2_6',
              'text': 'b . Exercise program management and oversight of Do D '
                      'passport and passport agent services .'},
             {'answer': 'D passport and passport agent services points of '
                        'contact for the Do D Components',
              'context': 'i . Maintain the names of individuals who will serve '
                         'as Do D passport and passport agent services points '
                         'of contact for the Do D Components .',
              'id': "'DoDD 1000.21E, 10 20 2009 OCR.pdf_2_13",
              'text': 'i . Maintain the names of individuals who will serve as '
                      'Do D passport and passport agent services points of '
                      'contact for the Do D Components .'},
             {'answer': 'visa',
              'context': 'ries of the Military Departments to accept passport '
                         'applications and perform passport services to '
                         'include administering oaths for passport purposes . '
                         'visa .A stamp or impression placed on a page of a '
                         'valid passport by a foreign embassy or consulate '
                         'empowered to grant permission , as of the date '
                         'issued ,',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_4_5',
              'text': 'A diplomatic passport , issued to a foreign service '
                      'officer , a person in the diplomatic service , or a '
                      'person having diplomatic status either because of the '
                      'nature of his or her foreign mission or by reason of '
                      'the office he or she holds . passport agent .A person '
                      'authorized and empowered by the Secretary of State , '
                      'the Do D EA for Do D Passport and Passport Agent '
                      'Services , or the Secretaries of the Military '
                      'Departments to accept passport applications and perform '
                      'passport services to include administering oaths for '
                      'passport purposes . visa .A stamp or impression placed '
                      'on a page of a valid passport by a foreign embassy or '
                      'consulate empowered to grant permission , as of the '
                      'date issued , for the applicant to enter and remain in '
                      'that country for a specific period of time .'},
             {'answer': 'Do D EA for acceptance of official U.S . passport '
                        'applications',
              'context': 'd . Ensure that interdepartmental Do D passport '
                         'agents perform all services required by Do S and the '
                         'Do D EA for acceptance of official U.S . passport '
                         'applications .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_3_6',
              'text': 'd . Ensure that interdepartmental Do D passport agents '
                      'perform all services required by Do S and the Do D EA '
                      'for acceptance of official U.S . passport applications '
                      '.'},
             {'answer': 'Do D',
              'context': 'j . Perform an annual review of Do D passport and '
                         'passport agent services with Do S and the Do D '
                         'Components .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_2_14',
              'text': 'j . Perform an annual review of Do D passport and '
                      'passport agent services with Do S and the Do D '
                      'Components .'},
             {'answer': 'representative to jointly review Do D EA',
              'context': 'c . Provide annually a representative to jointly '
                         'review Do D EA intradepartmental policies and '
                         'procedures supporting Do D passport and passport '
                         'agent services .',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_3_5',
              'text': 'c . Provide annually a representative to jointly review '
                      'Do D EA intradepartmental policies and procedures '
                      'supporting Do D passport and passport agent services .'},
             {'answer': 'Do D passport agents',
              'context': 'e . Designated Do D passport agents shall not accept '
                         'regular U.S . passport applications unless granted '
                         'written permission to do so by the Department of '
                         'State ( Do S ) and the Do D EA f',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_1_3',
              'text': 'e . Designated Do D passport agents shall not accept '
                      'regular U.S . passport applications unless granted '
                      'written permission to do so by the Department of State '
                      '( Do S ) and the Do D EA for Do D Passport and Passport '
                      'Agent Services .5 . RESPONSIBILITIES .See Enclosure 2 '
                      '.6 . RELEASABILITY .Cleared for public release .This '
                      'Directive is available on the Do D Issuances Web Site '
                      'at http://www.dtic.mil/whs/directives . 7 .EFFECTIVE '
                      'DATE .This Directive is effective October 20 , 2009 .'},
             {'answer': 'b .Do D employees and eligible family members '
                        'traveling outside the United States',
              'context': 'Y .It is Do D policy that : a .Passports issued by '
                         'the U.S . Government are official U.S . documents '
                         'and are considered at all times U.S . property . b '
                         '.Do D employees and eligible family members '
                         'traveling outside the United States on official '
                         'travel to a foreign country requiring a U.S . '
                         'passport pursuant to section 51.3 ( b ) of Reference '
                         '( b ) shall be provided an official U.',
              'id': 'DoDD 1000.21E, 10 20 2009 OCR.pdf_1_2',
              'text': '4 . POLICY .It is Do D policy that : a .Passports '
                      'issued by the U.S . Government are official U.S . '
                      'documents and are considered at all times U.S . '
                      'property . b .Do D employees and eligible family '
                      'members traveling outside the United States on official '
                      'travel to a foreign country requiring a U.S . passport '
                      'pursuant to section 51.3 ( b ) of Reference ( b ) shall '
                      'be provided an official U.S . passport , to include '
                      'visas when required , at no expense to the Do D '
                      'employees or their family members . c .Do D passport '
                      'and passport agent services shall be made available to '
                      'all Do D employees and family members through '
                      'designated Do D passport agents . d .Designated Do D '
                      'passport agents shall be full time or permanent part '
                      'time Do D employees or members of the Military Services '
                      '.'}],
 'query': 'blahblahblah'}
[2022-07-05 11:06:39,017    INFO], [qe.py:52 - __init__()], QE version 0.7.3
[2022-07-05 11:06:39,018    INFO], [qe.py:70 - __init__()], loading models for emb
[2022-07-05 11:06:39,018    INFO], [utils.py:69 - _check_idx_timestamps()], QE model timestamp : 2022-02-15 18:13:27
[2022-07-05 11:06:40,985    INFO], [spacy_model.py:36 - _log_metadata()], en_vectors version 3.0.0 vector width = 300
[2022-07-05 11:06:40,985    INFO], [spacy_model.py:45 - _load_spacy_name()], disabled components ['ner', 'parser', 'tagger', 'lemmatizer']
[2022-07-05 11:06:41,241    INFO], [qe.py:88 - _setup_emb()], loading QE indexes
[2022-07-05 11:06:41,245    INFO], [qe.py:97 - _setup_emb()], QE vocabulary size : 4,613
[2022-07-05 11:06:41,275    INFO], [test_qe.py:16 - test_qe_emb_expand()], ['provide adequate security', 'ensuring information security']
[2022-07-05 11:06:41,279 WARNING], [qe.py:156 - expand()], query string is empty
[2022-07-05 11:06:41,314    INFO], [build_qe_model.py:138 - main()], gamechangerml.src.search.query_expansion.build_ann_cli.build_qe_model version 0.7.3
[2022-07-05 11:06:41,319    INFO], [ltr.py:108 - read_mappings()], LTR - Not production environment, defaulting to local mappings
[2022-07-05 11:06:41,470 WARNING], [ltr.py:112 - read_mappings()], LTR - Could not request or read mappings
[2022-07-05 11:06:41,471 WARNING], [ltr.py:113 - read_mappings()], The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
[2022-07-05 11:07:41,759    INFO], [ltr.py:304 - process_ltr_log()], LTR - processing logs
[2022-07-05 11:07:43,924    INFO], [SentenceTransformer.py:100 - __init__()], Use pytorch device: cpu
[2022-07-05 11:07:43,925    INFO], [model.py:162 - index_documents()], Indexing documents from /home/jaredross/work/GameChanger/gamechanger-ml/gamechangerml/src/search/sent_transformer/tests/test_data
[2022-07-05 11:07:43,957    INFO], [model.py:175 - index_documents()], 
Length of batch (in par ids) for indexing : 82
[2022-07-05 11:07:43,959    INFO], [model.py:77 - _index()], Getting ids, dimensions, stream
[2022-07-05 11:07:47,910    INFO], [model.py:80 - _index()], Loading embeddings into memory
[2022-07-05 11:07:47,911    INFO], [model.py:88 - _index()], Removing temporary file
[2022-07-05 11:07:47,911    INFO], [model.py:90 - _index()], Making dataframe
[2022-07-05 11:07:47,912    INFO], [model.py:133 - _index()], Saving data.csv to /home/jaredross/work/GameChanger/gamechanger-ml/gamechangerml/src/search/sent_transformer/tests/test_index/data.csv
[2022-07-05 11:07:47,915    INFO], [model.py:144 - _index()], Creating embeddings and index
[2022-07-05 11:07:47,915    INFO], [model.py:146 - _index()], Created embeddings
[2022-07-05 11:07:47,919    INFO], [model.py:150 - _index()], Built the embeddings index
[2022-07-05 11:07:47,925    INFO], [model.py:203 - index_documents()], Saved embedder to /home/jaredross/work/GameChanger/gamechanger-ml/gamechangerml/src/search/sent_transformer/tests/test_index
[2022-07-05 11:07:47,927    INFO], [model.py:162 - index_documents()], Indexing documents from /home/jaredross/work/GameChanger/gamechanger-ml/gamechangerml/src/search/sent_transformer/tests/test_data_2
[2022-07-05 11:07:47,966    INFO], [model.py:175 - index_documents()], 
Length of batch (in par ids) for indexing : 79
[2022-07-05 11:07:47,967    INFO], [model.py:77 - _index()], Getting ids, dimensions, stream
[2022-07-05 11:07:53,702    INFO], [model.py:80 - _index()], Loading embeddings into memory
[2022-07-05 11:07:53,703    INFO], [model.py:88 - _index()], Removing temporary file
[2022-07-05 11:07:53,703    INFO], [model.py:90 - _index()], Making dataframe
[2022-07-05 11:07:53,704    INFO], [model.py:133 - _index()], Saving data.csv to /home/jaredross/work/GameChanger/gamechanger-ml/gamechangerml/src/search/sent_transformer/tests/test_index/data.csv
[2022-07-05 11:07:53,706    INFO], [model.py:144 - _index()], Creating embeddings and index
[2022-07-05 11:07:53,707    INFO], [model.py:146 - _index()], Created embeddings
[2022-07-05 11:07:53,707    INFO], [model.py:150 - _index()], Built the embeddings index
[2022-07-05 11:07:53,711    INFO], [model.py:203 - index_documents()], Saved embedder to /home/jaredross/work/GameChanger/gamechanger-ml/gamechangerml/src/search/sent_transformer/tests/test_index
[2022-07-05 11:08:25,755    INFO], [SentenceTransformer.py:100 - __init__()], Use pytorch device: cpu
[2022-07-05 11:08:52,393   ERROR], [model.py:262 - __init__()], Do not have best threshold available in eval data, defaulting to 0.7
[2022-07-05 11:08:56,059    INFO], [model.py:310 - search()], Sentence searching for: regulation
[2022-07-05 11:08:59,641    INFO], [model.py:310 - search()], Sentence searching for: Major Automated Information System
